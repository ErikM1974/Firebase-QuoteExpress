{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\erik\\\\Downloads\\\\embroidered-order-form\\\\src\\\\components\\\\EmbroideryCalculator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport AsyncSelect from 'react-select/async';\nimport { db } from '../firebase';\nimport { collection, doc, getDoc, getDocs, query, limit, orderBy, startAt, endAt } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmbroideryCalculator() {\n  _s();\n  const [orders, setOrders] = useState([{\n    styleNo: '',\n    colorName: '',\n    productTitle: '',\n    productData: null,\n    quantities: {},\n    otherQuantity: 0\n  }]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const MAIN_SIZES = ['XS', 'S', 'M', 'L', 'XL', '2XL', '3XL', '4XL', '5XL'];\n  useEffect(() => {\n    console.log('Orders updated:', orders);\n  }, [orders]);\n  useEffect(() => {\n    // Check if Firebase is initialized correctly\n    if (!db) {\n      console.error('Firestore db is not initialized');\n      setErrorMessage('Firebase initialization failed. Please check your configuration.');\n    }\n  }, []);\n  const loadStyleOptions = async inputValue => {\n    try {\n      setIsLoading(true);\n      const searchTerm = inputValue.toUpperCase();\n      console.log('Searching for styles with input:', searchTerm);\n      if (!db) {\n        throw new Error('Firestore db is not initialized');\n      }\n      const stylesRef = collection(db, 'styles');\n      const styleQuery = query(stylesRef, orderBy('styleNo'), startAt(searchTerm), endAt(searchTerm + '\\uf8ff'), limit(20));\n      const querySnapshot = await getDocs(styleQuery);\n      console.log('Query snapshot size:', querySnapshot.size);\n      const styles = [];\n      querySnapshot.forEach(doc => {\n        const data = doc.data();\n        const styleNo = data.styleNo;\n        const productTitle = data.productTitle;\n        console.log('Document ID:', doc.id, 'Data:', data);\n        if (styleNo && productTitle) {\n          styles.push({\n            label: `${styleNo} - ${productTitle}`,\n            value: doc.id\n          });\n        }\n      });\n      console.log('Styles:', styles);\n      return styles;\n    } catch (err) {\n      console.error('Error loading styles:', err);\n      setErrorMessage(`Error loading styles: ${err.message}`);\n      return [];\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const updateOrder = (index, field, value) => {\n    setOrders(prevOrders => {\n      const updatedOrders = [...prevOrders];\n      updatedOrders[index] = {\n        ...updatedOrders[index],\n        [field]: value\n      };\n      return updatedOrders;\n    });\n  };\n  const calculateLineTotal = order => {\n    const product = order.productData;\n    if (!product) return 0;\n    const quantities = order.quantities;\n    const totalQuantity = Object.values(quantities).reduce((sum, qty) => sum + (parseInt(qty) || 0), 0) + (parseInt(order.otherQuantity) || 0);\n    const basePriceRanges = product.basePrice;\n    let basePrice = 0;\n    const quantityRanges = Object.keys(basePriceRanges);\n    for (const range of quantityRanges) {\n      const [minStr, maxStr] = range.split('_');\n      const min = parseInt(minStr);\n      const max = maxStr === 'plus' ? Infinity : parseInt(maxStr);\n      if (totalQuantity >= min && totalQuantity <= max) {\n        basePrice = parseFloat(basePriceRanges[range]);\n        break;\n      }\n    }\n    if (basePrice === 0) {\n      return 0;\n    }\n    let lineTotal = 0;\n    for (const size in quantities) {\n      const qty = parseInt(quantities[size]) || 0;\n      if (qty > 0) {\n        let sizeUpcharge = 0;\n        if (product.sizeUpcharges && product.sizeUpcharges[size]) {\n          sizeUpcharge = parseFloat(product.sizeUpcharges[size]);\n        }\n        const price = basePrice + sizeUpcharge;\n        lineTotal += price * qty;\n      }\n    }\n\n    // Handle 'Other' quantity\n    const otherQty = parseInt(order.otherQuantity) || 0;\n    if (otherQty > 0) {\n      lineTotal += basePrice * otherQty;\n    }\n    return lineTotal;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 min-h-screen p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-green-600 p-4 bg-green-100\",\n        children: \"Embroidery Order Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\",\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-green-500 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left\",\n                style: {\n                  width: '200px'\n                },\n                children: \"Style No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left\",\n                children: \"Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left\",\n                children: \"Product Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), MAIN_SIZES.map(size => /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-center\",\n                children: size\n              }, size, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-center\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-center\",\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-center\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-center\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: orders.map((order, index) => {\n              const product = order.productData;\n              console.log('Order at index', index, ':', order);\n              console.log('Product data for style', order.styleNo, ':', product);\n              const lineQuantity = Object.values(order.quantities).reduce((sum, qty) => sum + (parseInt(qty) || 0), 0) + (parseInt(order.otherQuantity) || 0);\n              const lineTotal = calculateLineTotal(order).toFixed(2);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: index % 2 === 0 ? 'bg-gray-50' : 'bg-white',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2\",\n                  style: {\n                    width: '200px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(AsyncSelect, {\n                    cacheOptions: true,\n                    loadOptions: loadStyleOptions,\n                    onChange: selectedOption => {\n                      const docId = selectedOption ? selectedOption.value : '';\n                      updateOrder(index, 'styleNo', docId);\n                      updateOrder(index, 'colorName', '');\n                      updateOrder(index, 'productTitle', '');\n                      updateOrder(index, 'productData', null);\n\n                      // Fetch product data\n                      const fetchProductData = async () => {\n                        setIsLoading(true);\n                        try {\n                          const docRef = doc(db, 'styles', docId);\n                          const docSnap = await getDoc(docRef);\n                          if (docSnap.exists()) {\n                            const data = docSnap.data();\n                            console.log('Fetched product data:', data);\n                            updateOrder(index, 'productTitle', data.productTitle || '');\n                            updateOrder(index, 'productData', data);\n                          } else {\n                            console.log('No product data found for style:', docId);\n                            setErrorMessage('No product data found for the selected style.');\n                          }\n                        } catch (error) {\n                          console.error('Error fetching product data:', error);\n                          setErrorMessage('Error fetching product data. Please try again.');\n                        } finally {\n                          setIsLoading(false);\n                        }\n                      };\n                      if (docId) {\n                        fetchProductData();\n                      }\n                    },\n                    value: order.styleNo ? {\n                      value: order.styleNo,\n                      label: `${order.styleNo} - ${order.productTitle}`\n                    } : null,\n                    placeholder: \"Enter style number\",\n                    isDisabled: isLoading,\n                    styles: {\n                      control: provided => ({\n                        ...provided,\n                        minWidth: '200px'\n                      }),\n                      menu: provided => ({\n                        ...provided,\n                        zIndex: 9999\n                      })\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2\",\n                  children: product && Array.isArray(product.colors) && product.colors.length > 0 ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"w-full p-1 border rounded\",\n                    value: order.colorName || '',\n                    onChange: e => {\n                      const value = e.target.value;\n                      updateOrder(index, 'colorName', value);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select Color\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 27\n                    }, this), product.colors.map((color, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: color,\n                      children: color\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"w-full p-1 border rounded\",\n                    disabled: true,\n                    children: /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: product ? 'No Colors Available' : 'Select Style First'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2\",\n                  children: order.productTitle || ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), MAIN_SIZES.map(size => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"0\",\n                    className: \"w-16 p-1 border rounded\",\n                    value: order.quantities[size] || '',\n                    onChange: e => {\n                      const value = e.target.value;\n                      setOrders(prevOrders => {\n                        const updatedOrders = [...prevOrders];\n                        const updatedQuantities = {\n                          ...updatedOrders[index].quantities,\n                          [size]: value\n                        };\n                        updatedOrders[index] = {\n                          ...updatedOrders[index],\n                          quantities: updatedQuantities\n                        };\n                        return updatedOrders;\n                      });\n                    },\n                    disabled: !product\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this)\n                }, size, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"0\",\n                    className: \"w-16 p-1 border rounded\",\n                    value: order.otherQuantity || '',\n                    onChange: e => {\n                      const value = e.target.value;\n                      updateOrder(index, 'otherQuantity', value);\n                    },\n                    disabled: !product\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: lineQuantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: [\"$\", lineTotal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-red-500 text-white px-2 py-1 rounded\",\n                    onClick: () => {\n                      setOrders(prevOrders => prevOrders.filter((_, i) => i !== index));\n                    },\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this)]\n              }, order.styleNo || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-green-500 text-white px-4 py-2 rounded\",\n          onClick: () => {\n            setOrders([...orders, {\n              styleNo: '',\n              colorName: '',\n              productTitle: '',\n              productData: null,\n              quantities: {},\n              otherQuantity: 0\n            }]);\n          },\n          children: \"Add Line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold\",\n          children: [\"Order Total: $\", orders.reduce((total, order) => total + parseFloat(calculateLineTotal(order)), 0).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(EmbroideryCalculator, \"iUTjzSCbDNCQrW9E1ZeRlB4/bCo=\");\n_c = EmbroideryCalculator;\nvar _c;\n$RefreshReg$(_c, \"EmbroideryCalculator\");","map":{"version":3,"names":["React","useState","useEffect","AsyncSelect","db","collection","doc","getDoc","getDocs","query","limit","orderBy","startAt","endAt","jsxDEV","_jsxDEV","EmbroideryCalculator","_s","orders","setOrders","styleNo","colorName","productTitle","productData","quantities","otherQuantity","errorMessage","setErrorMessage","isLoading","setIsLoading","MAIN_SIZES","console","log","error","loadStyleOptions","inputValue","searchTerm","toUpperCase","Error","stylesRef","styleQuery","querySnapshot","size","styles","forEach","data","id","push","label","value","err","message","updateOrder","index","field","prevOrders","updatedOrders","calculateLineTotal","order","product","totalQuantity","Object","values","reduce","sum","qty","parseInt","basePriceRanges","basePrice","quantityRanges","keys","range","minStr","maxStr","split","min","max","Infinity","parseFloat","lineTotal","sizeUpcharge","sizeUpcharges","price","otherQty","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","style","width","map","lineQuantity","toFixed","cacheOptions","loadOptions","onChange","selectedOption","docId","fetchProductData","docRef","docSnap","exists","placeholder","isDisabled","control","provided","minWidth","menu","zIndex","Array","isArray","colors","length","e","target","color","idx","disabled","type","updatedQuantities","onClick","filter","_","i","total","_c","$RefreshReg$"],"sources":["C:/Users/erik/Downloads/embroidered-order-form/src/components/EmbroideryCalculator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport AsyncSelect from 'react-select/async';\r\nimport { db } from '../firebase';\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  limit,\r\n  orderBy,\r\n  startAt,\r\n  endAt,\r\n} from 'firebase/firestore';\r\n\r\nexport default function EmbroideryCalculator() {\r\n  const [orders, setOrders] = useState([\r\n    {\r\n      styleNo: '',\r\n      colorName: '',\r\n      productTitle: '',\r\n      productData: null,\r\n      quantities: {},\r\n      otherQuantity: 0,\r\n    },\r\n  ]);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const MAIN_SIZES = ['XS', 'S', 'M', 'L', 'XL', '2XL', '3XL', '4XL', '5XL'];\r\n\r\n  useEffect(() => {\r\n    console.log('Orders updated:', orders);\r\n  }, [orders]);\r\n\r\n  useEffect(() => {\r\n    // Check if Firebase is initialized correctly\r\n    if (!db) {\r\n      console.error('Firestore db is not initialized');\r\n      setErrorMessage('Firebase initialization failed. Please check your configuration.');\r\n    }\r\n  }, []);\r\n\r\n  const loadStyleOptions = async (inputValue) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const searchTerm = inputValue.toUpperCase();\r\n      console.log('Searching for styles with input:', searchTerm);\r\n\r\n      if (!db) {\r\n        throw new Error('Firestore db is not initialized');\r\n      }\r\n\r\n      const stylesRef = collection(db, 'styles');\r\n\r\n      const styleQuery = query(\r\n        stylesRef,\r\n        orderBy('styleNo'),\r\n        startAt(searchTerm),\r\n        endAt(searchTerm + '\\uf8ff'),\r\n        limit(20)\r\n      );\r\n\r\n      const querySnapshot = await getDocs(styleQuery);\r\n      console.log('Query snapshot size:', querySnapshot.size);\r\n\r\n      const styles = [];\r\n      querySnapshot.forEach((doc) => {\r\n        const data = doc.data();\r\n        const styleNo = data.styleNo;\r\n        const productTitle = data.productTitle;\r\n        console.log('Document ID:', doc.id, 'Data:', data);\r\n        if (styleNo && productTitle) {\r\n          styles.push({ label: `${styleNo} - ${productTitle}`, value: doc.id });\r\n        }\r\n      });\r\n\r\n      console.log('Styles:', styles);\r\n      return styles;\r\n    } catch (err) {\r\n      console.error('Error loading styles:', err);\r\n      setErrorMessage(`Error loading styles: ${err.message}`);\r\n      return [];\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateOrder = (index, field, value) => {\r\n    setOrders((prevOrders) => {\r\n      const updatedOrders = [...prevOrders];\r\n      updatedOrders[index] = {\r\n        ...updatedOrders[index],\r\n        [field]: value,\r\n      };\r\n      return updatedOrders;\r\n    });\r\n  };\r\n\r\n  const calculateLineTotal = (order) => {\r\n    const product = order.productData;\r\n    if (!product) return 0;\r\n\r\n    const quantities = order.quantities;\r\n    const totalQuantity =\r\n      Object.values(quantities).reduce((sum, qty) => sum + (parseInt(qty) || 0), 0) +\r\n      (parseInt(order.otherQuantity) || 0);\r\n\r\n    const basePriceRanges = product.basePrice;\r\n\r\n    let basePrice = 0;\r\n    const quantityRanges = Object.keys(basePriceRanges);\r\n    for (const range of quantityRanges) {\r\n      const [minStr, maxStr] = range.split('_');\r\n      const min = parseInt(minStr);\r\n      const max = maxStr === 'plus' ? Infinity : parseInt(maxStr);\r\n\r\n      if (totalQuantity >= min && totalQuantity <= max) {\r\n        basePrice = parseFloat(basePriceRanges[range]);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (basePrice === 0) {\r\n      return 0;\r\n    }\r\n\r\n    let lineTotal = 0;\r\n    for (const size in quantities) {\r\n      const qty = parseInt(quantities[size]) || 0;\r\n      if (qty > 0) {\r\n        let sizeUpcharge = 0;\r\n        if (product.sizeUpcharges && product.sizeUpcharges[size]) {\r\n          sizeUpcharge = parseFloat(product.sizeUpcharges[size]);\r\n        }\r\n        const price = basePrice + sizeUpcharge;\r\n        lineTotal += price * qty;\r\n      }\r\n    }\r\n\r\n    // Handle 'Other' quantity\r\n    const otherQty = parseInt(order.otherQuantity) || 0;\r\n    if (otherQty > 0) {\r\n      lineTotal += basePrice * otherQty;\r\n    }\r\n\r\n    return lineTotal;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen p-4\">\r\n      <div className=\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\">\r\n        <h1 className=\"text-2xl font-bold text-green-600 p-4 bg-green-100\">\r\n          Embroidery Order Form\r\n        </h1>\r\n        {errorMessage && (\r\n          <div\r\n            className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\"\r\n            role=\"alert\"\r\n          >\r\n            <p className=\"font-bold\">Error</p>\r\n            <p>{errorMessage}</p>\r\n          </div>\r\n        )}\r\n        {isLoading && <div>Loading...</div>}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-green-500 text-white\">\r\n              <tr>\r\n                <th className=\"p-2 text-left\" style={{ width: '200px' }}>\r\n                  Style No\r\n                </th>\r\n                <th className=\"p-2 text-left\">Color</th>\r\n                <th className=\"p-2 text-left\">Product Title</th>\r\n                {MAIN_SIZES.map((size) => (\r\n                  <th key={size} className=\"p-2 text-center\">\r\n                    {size}\r\n                  </th>\r\n                ))}\r\n                <th className=\"p-2 text-center\">Other</th>\r\n                <th className=\"p-2 text-center\">Qty</th>\r\n                <th className=\"p-2 text-center\">Total</th>\r\n                <th className=\"p-2 text-center\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((order, index) => {\r\n                const product = order.productData;\r\n\r\n                console.log('Order at index', index, ':', order);\r\n                console.log('Product data for style', order.styleNo, ':', product);\r\n\r\n                const lineQuantity =\r\n                  Object.values(order.quantities).reduce(\r\n                    (sum, qty) => sum + (parseInt(qty) || 0),\r\n                    0\r\n                  ) + (parseInt(order.otherQuantity) || 0);\r\n\r\n                const lineTotal = calculateLineTotal(order).toFixed(2);\r\n\r\n                return (\r\n                  <tr\r\n                    key={order.styleNo || index}\r\n                    className={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}\r\n                  >\r\n                    <td className=\"p-2\" style={{ width: '200px' }}>\r\n                      <AsyncSelect\r\n                        cacheOptions\r\n                        loadOptions={loadStyleOptions}\r\n                        onChange={(selectedOption) => {\r\n                          const docId = selectedOption ? selectedOption.value : '';\r\n                          updateOrder(index, 'styleNo', docId);\r\n                          updateOrder(index, 'colorName', '');\r\n                          updateOrder(index, 'productTitle', '');\r\n                          updateOrder(index, 'productData', null);\r\n\r\n                          // Fetch product data\r\n                          const fetchProductData = async () => {\r\n                            setIsLoading(true);\r\n                            try {\r\n                              const docRef = doc(db, 'styles', docId);\r\n                              const docSnap = await getDoc(docRef);\r\n                              if (docSnap.exists()) {\r\n                                const data = docSnap.data();\r\n                                console.log('Fetched product data:', data);\r\n                                updateOrder(index, 'productTitle', data.productTitle || '');\r\n                                updateOrder(index, 'productData', data);\r\n                              } else {\r\n                                console.log('No product data found for style:', docId);\r\n                                setErrorMessage('No product data found for the selected style.');\r\n                              }\r\n                            } catch (error) {\r\n                              console.error('Error fetching product data:', error);\r\n                              setErrorMessage('Error fetching product data. Please try again.');\r\n                            } finally {\r\n                              setIsLoading(false);\r\n                            }\r\n                          };\r\n                          if (docId) {\r\n                            fetchProductData();\r\n                          }\r\n                        }}\r\n                        value={\r\n                          order.styleNo\r\n                            ? {\r\n                                value: order.styleNo,\r\n                                label: `${order.styleNo} - ${order.productTitle}`,\r\n                              }\r\n                            : null\r\n                        }\r\n                        placeholder=\"Enter style number\"\r\n                        isDisabled={isLoading}\r\n                        styles={{\r\n                          control: (provided) => ({ ...provided, minWidth: '200px' }),\r\n                          menu: (provided) => ({ ...provided, zIndex: 9999 }),\r\n                        }}\r\n                      />\r\n                    </td>\r\n                    <td className=\"p-2\">\r\n                      {product && Array.isArray(product.colors) && product.colors.length > 0 ? (\r\n                        <select\r\n                          className=\"w-full p-1 border rounded\"\r\n                          value={order.colorName || ''}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            updateOrder(index, 'colorName', value);\r\n                          }}\r\n                        >\r\n                          <option value=\"\">Select Color</option>\r\n                          {product.colors.map((color, idx) => (\r\n                            <option key={idx} value={color}>\r\n                              {color}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      ) : (\r\n                        <select className=\"w-full p-1 border rounded\" disabled>\r\n                          <option value=\"\">\r\n                            {product ? 'No Colors Available' : 'Select Style First'}\r\n                          </option>\r\n                        </select>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"p-2\">{order.productTitle || ''}</td>\r\n                    {MAIN_SIZES.map((size) => (\r\n                      <td key={size} className=\"p-2 text-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          className=\"w-16 p-1 border rounded\"\r\n                          value={order.quantities[size] || ''}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            setOrders((prevOrders) => {\r\n                              const updatedOrders = [...prevOrders];\r\n                              const updatedQuantities = {\r\n                                ...updatedOrders[index].quantities,\r\n                                [size]: value,\r\n                              };\r\n                              updatedOrders[index] = {\r\n                                ...updatedOrders[index],\r\n                                quantities: updatedQuantities,\r\n                              };\r\n                              return updatedOrders;\r\n                            });\r\n                          }}\r\n                          disabled={!product}\r\n                        />\r\n                      </td>\r\n                    ))}\r\n                    <td className=\"p-2 text-center\">\r\n                      <input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        className=\"w-16 p-1 border rounded\"\r\n                        value={order.otherQuantity || ''}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          updateOrder(index, 'otherQuantity', value);\r\n                        }}\r\n                        disabled={!product}\r\n                      />\r\n                    </td>\r\n                    <td className=\"p-2 text-center\">{lineQuantity}</td>\r\n                    <td className=\"p-2 text-center\">${lineTotal}</td>\r\n                    <td className=\"p-2 text-center\">\r\n                      <button\r\n                        className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                        onClick={() => {\r\n                          setOrders((prevOrders) => prevOrders.filter((_, i) => i !== index));\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"p-4\">\r\n          <button\r\n            className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n            onClick={() => {\r\n              setOrders([\r\n                ...orders,\r\n                {\r\n                  styleNo: '',\r\n                  colorName: '',\r\n                  productTitle: '',\r\n                  productData: null,\r\n                  quantities: {},\r\n                  otherQuantity: 0,\r\n                },\r\n              ]);\r\n            }}\r\n          >\r\n            Add Line\r\n          </button>\r\n        </div>\r\n        <div className=\"p-4 bg-gray-100\">\r\n          <h2 className=\"text-xl font-bold\">\r\n            Order Total: $\r\n            {orders\r\n              .reduce((total, order) => total + parseFloat(calculateLineTotal(order)), 0)\r\n              .toFixed(2)}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}