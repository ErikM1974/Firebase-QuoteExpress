{"ast":null,"code":"// EmbroideryCalculator.js\nimport React,{useState,useEffect}from'react';import AsyncSelect from'react-select/async';import{db}from'./firebase';// Adjust the path if necessary\nimport{collection,doc,getDoc,getDocs,query,limit,orderBy,startAt,endAt}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EmbroideryCalculator(){const[orders,setOrders]=useState([{styleNo:'',colorName:'',productTitle:'',productData:null,quantities:{},otherQuantity:0}]);const[errorMessage,setErrorMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const MAIN_SIZES=['XS','S','M','L','XL','2XL','3XL','4XL','5XL'];// Function to load style options from Firestore\nconst loadStyleOptions=async inputValue=>{try{const searchTerm=inputValue.toUpperCase();const stylesRef=collection(db,'styles');const styleQuery=query(stylesRef,orderBy('styleNo'),startAt(searchTerm),endAt(searchTerm+'\\uf8ff'),limit(20));const querySnapshot=await getDocs(styleQuery);const styles=[];querySnapshot.forEach(doc=>{const data=doc.data();const styleNo=data.styleNo;const productTitle=data.productTitle;if(styleNo&&productTitle){styles.push({label:`${styleNo} - ${productTitle}`,value:doc.id});}});return styles;}catch(err){console.error('Error loading styles:',err);setErrorMessage('Error loading styles. Please try again.');return[];}};// Function to update an order in the orders array\nconst updateOrder=(index,field,value)=>{setOrders(prevOrders=>{const updatedOrders=[...prevOrders];updatedOrders[index]={...updatedOrders[index],[field]:value};return updatedOrders;});};// Function to calculate the line total for an order\nconst calculateLineTotal=order=>{const product=order.productData;if(!product)return 0;const quantities=order.quantities;const totalQuantity=Object.values(quantities).reduce((sum,qty)=>sum+(parseInt(qty)||0),0)+(parseInt(order.otherQuantity)||0);const basePriceRanges=product.basePrice;let basePrice=0;const quantityRanges=Object.keys(basePriceRanges);for(const range of quantityRanges){const[minStr,maxStr]=range.split('_');const min=parseInt(minStr);const max=maxStr==='plus'?Infinity:parseInt(maxStr);if(totalQuantity>=min&&totalQuantity<=max){basePrice=parseFloat(basePriceRanges[range]);break;}}if(basePrice===0){return 0;}let lineTotal=0;for(const size in quantities){const qty=parseInt(quantities[size])||0;if(qty>0){let sizeUpcharge=0;if(product.sizeUpcharges&&product.sizeUpcharges[size]){sizeUpcharge=parseFloat(product.sizeUpcharges[size]);}const price=basePrice+sizeUpcharge;lineTotal+=price*qty;}}// Handle 'Other' quantity\nconst otherQty=parseInt(order.otherQuantity)||0;if(otherQty>0){lineTotal+=basePrice*otherQty;}return lineTotal;};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 min-h-screen p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-green-600 p-4 bg-green-100\",children:\"Embroidery Order Form\"}),errorMessage&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-green-500 text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",style:{width:'200px'},children:\"Style No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Color\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Product Title\"}),MAIN_SIZES.map(size=>/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:size},size)),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Other\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map((order,index)=>{const product=order.productData;const lineQuantity=Object.values(order.quantities).reduce((sum,qty)=>sum+(parseInt(qty)||0),0)+(parseInt(order.otherQuantity)||0);const lineTotal=calculateLineTotal(order).toFixed(2);return/*#__PURE__*/_jsxs(\"tr\",{className:index%2===0?'bg-gray-50':'bg-white',children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",style:{width:'200px'},children:/*#__PURE__*/_jsx(AsyncSelect,{cacheOptions:true,loadOptions:loadStyleOptions,onChange:selectedOption=>{const docId=selectedOption?selectedOption.value:'';updateOrder(index,'styleNo',docId);updateOrder(index,'colorName','');updateOrder(index,'productTitle','');updateOrder(index,'productData',null);// Fetch product data\nconst fetchProductData=async()=>{try{const docRef=doc(db,'styles',docId);const docSnap=await getDoc(docRef);if(docSnap.exists()){const data=docSnap.data();updateOrder(index,'productTitle',data.productTitle||'');updateOrder(index,'productData',data);}else{setErrorMessage('No product data found for the selected style.');}}catch(error){console.error('Error fetching product data:',error);setErrorMessage('Error fetching product data. Please try again.');}};if(docId){fetchProductData();}},value:order.styleNo?{value:order.styleNo,label:`${order.styleNo} - ${order.productTitle}`}:null,placeholder:\"Enter style number\",styles:{control:provided=>({...provided,minWidth:'200px'}),menu:provided=>({...provided,zIndex:9999})}})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:product&&Array.isArray(product.colors)&&product.colors.length>0?/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-1 border rounded\",value:order.colorName||'',onChange:e=>{const value=e.target.value;updateOrder(index,'colorName',value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Color\"}),product.colors.map((color,idx)=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color},idx))]}):/*#__PURE__*/_jsx(\"select\",{className:\"w-full p-1 border rounded\",disabled:true,children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:product?'No Colors Available':'Select Style First'})})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:order.productTitle||''}),MAIN_SIZES.map(size=>/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",className:\"w-16 p-1 border rounded\",value:order.quantities[size]||'',onChange:e=>{const value=e.target.value;setOrders(prevOrders=>{const updatedOrders=[...prevOrders];const updatedQuantities={...updatedOrders[index].quantities,[size]:value};updatedOrders[index]={...updatedOrders[index],quantities:updatedQuantities};return updatedOrders;});},disabled:!product})},size)),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",className:\"w-16 p-1 border rounded\",value:order.otherQuantity||'',onChange:e=>{const value=e.target.value;updateOrder(index,'otherQuantity',value);},disabled:!product})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:lineQuantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 text-center\",children:[\"$\",lineTotal]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-2 py-1 rounded\",onClick:()=>{setOrders(prevOrders=>prevOrders.filter((_,i)=>i!==index));},children:\"Remove\"})})]},order.styleNo||index);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-4 py-2 rounded\",onClick:()=>{setOrders([...orders,{styleNo:'',colorName:'',productTitle:'',productData:null,quantities:{},otherQuantity:0}]);},children:\"Add Line\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-100\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold\",children:[\"Order Total: $\",orders.reduce((total,order)=>total+parseFloat(calculateLineTotal(order)),0).toFixed(2)]})})]})});}export default EmbroideryCalculator;","map":{"version":3,"names":["React","useState","useEffect","AsyncSelect","db","collection","doc","getDoc","getDocs","query","limit","orderBy","startAt","endAt","jsx","_jsx","jsxs","_jsxs","EmbroideryCalculator","orders","setOrders","styleNo","colorName","productTitle","productData","quantities","otherQuantity","errorMessage","setErrorMessage","isLoading","setIsLoading","MAIN_SIZES","loadStyleOptions","inputValue","searchTerm","toUpperCase","stylesRef","styleQuery","querySnapshot","styles","forEach","data","push","label","value","id","err","console","error","updateOrder","index","field","prevOrders","updatedOrders","calculateLineTotal","order","product","totalQuantity","Object","values","reduce","sum","qty","parseInt","basePriceRanges","basePrice","quantityRanges","keys","range","minStr","maxStr","split","min","max","Infinity","parseFloat","lineTotal","size","sizeUpcharge","sizeUpcharges","price","otherQty","className","children","role","style","width","map","lineQuantity","toFixed","cacheOptions","loadOptions","onChange","selectedOption","docId","fetchProductData","docRef","docSnap","exists","placeholder","control","provided","minWidth","menu","zIndex","Array","isArray","colors","length","e","target","color","idx","disabled","type","updatedQuantities","onClick","filter","_","i","total"],"sources":["C:/Users/erik/Downloads/embroidered-order-form/src/components/EmbroideryCalculator.js"],"sourcesContent":["// EmbroideryCalculator.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport AsyncSelect from 'react-select/async';\r\nimport { db } from './firebase'; // Adjust the path if necessary\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  limit,\r\n  orderBy,\r\n  startAt,\r\n  endAt,\r\n} from 'firebase/firestore';\r\n\r\nfunction EmbroideryCalculator() {\r\n  const [orders, setOrders] = useState([\r\n    {\r\n      styleNo: '',\r\n      colorName: '',\r\n      productTitle: '',\r\n      productData: null,\r\n      quantities: {},\r\n      otherQuantity: 0,\r\n    },\r\n  ]);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const MAIN_SIZES = ['XS', 'S', 'M', 'L', 'XL', '2XL', '3XL', '4XL', '5XL'];\r\n\r\n  // Function to load style options from Firestore\r\n  const loadStyleOptions = async (inputValue) => {\r\n    try {\r\n      const searchTerm = inputValue.toUpperCase();\r\n\r\n      const stylesRef = collection(db, 'styles');\r\n\r\n      const styleQuery = query(\r\n        stylesRef,\r\n        orderBy('styleNo'),\r\n        startAt(searchTerm),\r\n        endAt(searchTerm + '\\uf8ff'),\r\n        limit(20)\r\n      );\r\n\r\n      const querySnapshot = await getDocs(styleQuery);\r\n\r\n      const styles = [];\r\n      querySnapshot.forEach((doc) => {\r\n        const data = doc.data();\r\n        const styleNo = data.styleNo;\r\n        const productTitle = data.productTitle;\r\n        if (styleNo && productTitle) {\r\n          styles.push({ label: `${styleNo} - ${productTitle}`, value: doc.id });\r\n        }\r\n      });\r\n\r\n      return styles;\r\n    } catch (err) {\r\n      console.error('Error loading styles:', err);\r\n      setErrorMessage('Error loading styles. Please try again.');\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Function to update an order in the orders array\r\n  const updateOrder = (index, field, value) => {\r\n    setOrders((prevOrders) => {\r\n      const updatedOrders = [...prevOrders];\r\n      updatedOrders[index] = {\r\n        ...updatedOrders[index],\r\n        [field]: value,\r\n      };\r\n      return updatedOrders;\r\n    });\r\n  };\r\n\r\n  // Function to calculate the line total for an order\r\n  const calculateLineTotal = (order) => {\r\n    const product = order.productData;\r\n    if (!product) return 0;\r\n\r\n    const quantities = order.quantities;\r\n    const totalQuantity =\r\n      Object.values(quantities).reduce((sum, qty) => sum + (parseInt(qty) || 0), 0) +\r\n      (parseInt(order.otherQuantity) || 0);\r\n\r\n    const basePriceRanges = product.basePrice;\r\n\r\n    let basePrice = 0;\r\n    const quantityRanges = Object.keys(basePriceRanges);\r\n    for (const range of quantityRanges) {\r\n      const [minStr, maxStr] = range.split('_');\r\n      const min = parseInt(minStr);\r\n      const max = maxStr === 'plus' ? Infinity : parseInt(maxStr);\r\n\r\n      if (totalQuantity >= min && totalQuantity <= max) {\r\n        basePrice = parseFloat(basePriceRanges[range]);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (basePrice === 0) {\r\n      return 0;\r\n    }\r\n\r\n    let lineTotal = 0;\r\n    for (const size in quantities) {\r\n      const qty = parseInt(quantities[size]) || 0;\r\n      if (qty > 0) {\r\n        let sizeUpcharge = 0;\r\n        if (product.sizeUpcharges && product.sizeUpcharges[size]) {\r\n          sizeUpcharge = parseFloat(product.sizeUpcharges[size]);\r\n        }\r\n        const price = basePrice + sizeUpcharge;\r\n        lineTotal += price * qty;\r\n      }\r\n    }\r\n\r\n    // Handle 'Other' quantity\r\n    const otherQty = parseInt(order.otherQuantity) || 0;\r\n    if (otherQty > 0) {\r\n      lineTotal += basePrice * otherQty;\r\n    }\r\n\r\n    return lineTotal;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen p-4\">\r\n      <div className=\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\">\r\n        <h1 className=\"text-2xl font-bold text-green-600 p-4 bg-green-100\">\r\n          Embroidery Order Form\r\n        </h1>\r\n        {errorMessage && (\r\n          <div\r\n            className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\"\r\n            role=\"alert\"\r\n          >\r\n            <p className=\"font-bold\">Error</p>\r\n            <p>{errorMessage}</p>\r\n          </div>\r\n        )}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-green-500 text-white\">\r\n              <tr>\r\n                <th className=\"p-2 text-left\" style={{ width: '200px' }}>\r\n                  Style No\r\n                </th>\r\n                <th className=\"p-2 text-left\">Color</th>\r\n                <th className=\"p-2 text-left\">Product Title</th>\r\n                {MAIN_SIZES.map((size) => (\r\n                  <th key={size} className=\"p-2 text-center\">\r\n                    {size}\r\n                  </th>\r\n                ))}\r\n                <th className=\"p-2 text-center\">Other</th>\r\n                <th className=\"p-2 text-center\">Qty</th>\r\n                <th className=\"p-2 text-center\">Total</th>\r\n                <th className=\"p-2 text-center\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((order, index) => {\r\n                const product = order.productData;\r\n\r\n                const lineQuantity =\r\n                  Object.values(order.quantities).reduce(\r\n                    (sum, qty) => sum + (parseInt(qty) || 0),\r\n                    0\r\n                  ) + (parseInt(order.otherQuantity) || 0);\r\n\r\n                const lineTotal = calculateLineTotal(order).toFixed(2);\r\n\r\n                return (\r\n                  <tr\r\n                    key={order.styleNo || index}\r\n                    className={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}\r\n                  >\r\n                    <td className=\"p-2\" style={{ width: '200px' }}>\r\n                      <AsyncSelect\r\n                        cacheOptions\r\n                        loadOptions={loadStyleOptions}\r\n                        onChange={(selectedOption) => {\r\n                          const docId = selectedOption ? selectedOption.value : '';\r\n                          updateOrder(index, 'styleNo', docId);\r\n                          updateOrder(index, 'colorName', '');\r\n                          updateOrder(index, 'productTitle', '');\r\n                          updateOrder(index, 'productData', null);\r\n\r\n                          // Fetch product data\r\n                          const fetchProductData = async () => {\r\n                            try {\r\n                              const docRef = doc(db, 'styles', docId);\r\n                              const docSnap = await getDoc(docRef);\r\n                              if (docSnap.exists()) {\r\n                                const data = docSnap.data();\r\n                                updateOrder(index, 'productTitle', data.productTitle || '');\r\n                                updateOrder(index, 'productData', data);\r\n                              } else {\r\n                                setErrorMessage('No product data found for the selected style.');\r\n                              }\r\n                            } catch (error) {\r\n                              console.error('Error fetching product data:', error);\r\n                              setErrorMessage('Error fetching product data. Please try again.');\r\n                            }\r\n                          };\r\n                          if (docId) {\r\n                            fetchProductData();\r\n                          }\r\n                        }}\r\n                        value={\r\n                          order.styleNo\r\n                            ? {\r\n                                value: order.styleNo,\r\n                                label: `${order.styleNo} - ${order.productTitle}`,\r\n                              }\r\n                            : null\r\n                        }\r\n                        placeholder=\"Enter style number\"\r\n                        styles={{\r\n                          control: (provided) => ({ ...provided, minWidth: '200px' }),\r\n                          menu: (provided) => ({ ...provided, zIndex: 9999 }),\r\n                        }}\r\n                      />\r\n                    </td>\r\n                    <td className=\"p-2\">\r\n                      {product && Array.isArray(product.colors) && product.colors.length > 0 ? (\r\n                        <select\r\n                          className=\"w-full p-1 border rounded\"\r\n                          value={order.colorName || ''}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            updateOrder(index, 'colorName', value);\r\n                          }}\r\n                        >\r\n                          <option value=\"\">Select Color</option>\r\n                          {product.colors.map((color, idx) => (\r\n                            <option key={idx} value={color}>\r\n                              {color}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      ) : (\r\n                        <select className=\"w-full p-1 border rounded\" disabled>\r\n                          <option value=\"\">\r\n                            {product ? 'No Colors Available' : 'Select Style First'}\r\n                          </option>\r\n                        </select>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"p-2\">{order.productTitle || ''}</td>\r\n                    {MAIN_SIZES.map((size) => (\r\n                      <td key={size} className=\"p-2 text-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          className=\"w-16 p-1 border rounded\"\r\n                          value={order.quantities[size] || ''}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            setOrders((prevOrders) => {\r\n                              const updatedOrders = [...prevOrders];\r\n                              const updatedQuantities = {\r\n                                ...updatedOrders[index].quantities,\r\n                                [size]: value,\r\n                              };\r\n                              updatedOrders[index] = {\r\n                                ...updatedOrders[index],\r\n                                quantities: updatedQuantities,\r\n                              };\r\n                              return updatedOrders;\r\n                            });\r\n                          }}\r\n                          disabled={!product}\r\n                        />\r\n                      </td>\r\n                    ))}\r\n                    <td className=\"p-2 text-center\">\r\n                      <input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        className=\"w-16 p-1 border rounded\"\r\n                        value={order.otherQuantity || ''}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value;\r\n                          updateOrder(index, 'otherQuantity', value);\r\n                        }}\r\n                        disabled={!product}\r\n                      />\r\n                    </td>\r\n                    <td className=\"p-2 text-center\">{lineQuantity}</td>\r\n                    <td className=\"p-2 text-center\">${lineTotal}</td>\r\n                    <td className=\"p-2 text-center\">\r\n                      <button\r\n                        className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                        onClick={() => {\r\n                          setOrders((prevOrders) => prevOrders.filter((_, i) => i !== index));\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"p-4\">\r\n          <button\r\n            className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n            onClick={() => {\r\n              setOrders([\r\n                ...orders,\r\n                {\r\n                  styleNo: '',\r\n                  colorName: '',\r\n                  productTitle: '',\r\n                  productData: null,\r\n                  quantities: {},\r\n                  otherQuantity: 0,\r\n                },\r\n              ]);\r\n            }}\r\n          >\r\n            Add Line\r\n          </button>\r\n        </div>\r\n        <div className=\"p-4 bg-gray-100\">\r\n          <h2 className=\"text-xl font-bold\">\r\n            Order Total: $\r\n            {orders\r\n              .reduce((total, order) => total + parseFloat(calculateLineTotal(order)), 0)\r\n              .toFixed(2)}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmbroideryCalculator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}