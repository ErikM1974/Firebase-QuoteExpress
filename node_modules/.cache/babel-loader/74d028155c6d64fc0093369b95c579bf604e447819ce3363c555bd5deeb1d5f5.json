{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'../firebase';import{collection,getDocs,query,limit,orderBy,startAt,endAt}from'firebase/firestore';import AsyncSelect from'react-select/async';import'./EmbroideryCalculator.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STANDARD_SIZES=['S','M','L','XL','2XL','3XL'];export default function EmbroideryCalculator(){const[order,setOrder]=useState({styleNo:'',colorName:'',productTitle:'',productData:null,quantities:{}});const[errorMessage,setErrorMessage]=useState('');useEffect(()=>{if(!db){console.error('Firestore db is not initialized');setErrorMessage('Firebase initialization failed. Please check your configuration.');}},[]);// Function to load style options asynchronously\nconst loadStyleOptions=async inputValue=>{console.log('loadStyleOptions called with:',inputValue);try{if(!inputValue){console.log('No input value, returning empty array');return[];}const searchTerm=inputValue.toUpperCase();const stylesRef=collection(db,'styles');const styleQuery=query(stylesRef,orderBy('styleNo'),startAt(searchTerm),endAt(searchTerm+'\\uf8ff'),limit(20));console.log('Executing Firestore query');const querySnapshot=await getDocs(styleQuery);console.log('Query snapshot:',querySnapshot);const loadedStyles=querySnapshot.docs.map(doc=>{const data=doc.data();console.log('Document data:',data);return{value:doc.id,label:data.styleNo,data:data};});console.log('Loaded styles:',loadedStyles);return loadedStyles;}catch(err){console.error('Error loading styles:',err);setErrorMessage(`Error loading styles: ${err.message}`);return[];}};// Handle selection of a style\nconst handleStyleSelect=selectedOption=>{console.log('Selected option:',selectedOption);if(!selectedOption){setOrder(prevOrder=>({...prevOrder,styleNo:'',productTitle:'',productData:null,colorName:'',quantities:{}}));return;}const styleData=selectedOption.data;setOrder(prevOrder=>({...prevOrder,styleNo:styleData.styleNo,productTitle:styleData.productTitle,productData:styleData,colorName:'',quantities:{}}));};const handleColorSelect=color=>{setOrder(prevOrder=>({...prevOrder,colorName:color}));};const handleQuantityChange=(size,quantity)=>{const qty=parseInt(quantity,10);if(isNaN(qty)||qty<0){setOrder(prevOrder=>{const newQuantities={...prevOrder.quantities};delete newQuantities[size];return{...prevOrder,quantities:newQuantities};});}else{setOrder(prevOrder=>({...prevOrder,quantities:{...prevOrder.quantities,[size]:qty}}));}};const validateForm=()=>{if(!order.styleNo){setErrorMessage('Please select a style');return false;}if(!order.colorName){setErrorMessage('Please select a color');return false;}const totalQuantity=Object.values(order.quantities).reduce((sum,qty)=>sum+qty,0);if(totalQuantity===0){setErrorMessage('Please enter at least one quantity');return false;}setErrorMessage('');return true;};const handleSubmit=async()=>{if(!validateForm()){return;}console.log('Order submitted:',order);// Implement your submission logic here\ntry{// Example: Add order to Firestore\n// await addDoc(collection(db, 'orders'), order);\n// Reset form after submission\n// setOrder({ styleNo: '', colorName: '', productTitle: '', productData: null, quantities: {} });\n// alert('Order submitted successfully!');\n}catch(error){console.error('Error submitting order:',error);setErrorMessage(`Error submitting order: ${error.message}`);}};const renderSizingMatrix=()=>{if(!order.productData||!order.productData.sizes)return null;const availableSizes=order.productData.sizes;const standardSizes=STANDARD_SIZES.filter(size=>availableSizes.includes(size));const otherSizes=availableSizes.filter(size=>!STANDARD_SIZES.includes(size));return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700 mb-2\",children:\"Sizing Matrix\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[standardSizes.map(size=>/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border-b-2 border-gray-200 bg-gray-100 text-center text-xs leading-4 font-medium text-gray-700 uppercase tracking-wider\",children:size},size)),otherSizes.length>0&&/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border-b-2 border-gray-200 bg-gray-100 text-center text-xs leading-4 font-medium text-gray-700 uppercase tracking-wider\",children:\"Other Sizes\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[standardSizes.map(size=>/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border-b border-gray-200 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:order.quantities[size]||'',onChange:e=>handleQuantityChange(size,e.target.value),className:\"mt-1 block w-16 mx-auto rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\"aria-label\":`Quantity for size ${size}`})},size)),otherSizes.length>0&&/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 border-b border-gray-200 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center\",children:otherSizes.map(size=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-2\",children:[size,\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:order.quantities[size]||'',onChange:e=>handleQuantityChange(size,e.target.value),className:\"block w-16 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\"aria-label\":`Quantity for size ${size}`})]},size))})})]})})]})})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 min-h-screen p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-green-600 p-4 bg-green-100\",children:\"Embroidery Order Form\"}),errorMessage&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/3 relative\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Style\"}),/*#__PURE__*/_jsx(AsyncSelect,{className:\"mt-1\",classNamePrefix:\"select\",isClearable:true,isSearchable:true,name:\"style\",loadOptions:loadStyleOptions,onChange:handleStyleSelect,placeholder:\"Search styles...\",noOptionsMessage:()=>'No styles found',loadingMessage:()=>'Loading...',cacheOptions:true,defaultOptions:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/3 mt-4 md:mt-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Color\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",onChange:e=>handleColorSelect(e.target.value),value:order.colorName,disabled:!order.productData||!order.productData.colors,\"aria-label\":\"Select color\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Color\"}),order.productData&&order.productData.colors&&order.productData.colors.map((color,index)=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/3 mt-4 md:mt-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1\",children:order.productTitle||'Product description will appear here.'})]})]}),renderSizingMatrix(),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none disabled:opacity-50\",onClick:handleSubmit,disabled:!order.styleNo||!order.colorName,children:\"Submit Order\"})})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","db","collection","getDocs","query","limit","orderBy","startAt","endAt","AsyncSelect","jsx","_jsx","jsxs","_jsxs","STANDARD_SIZES","EmbroideryCalculator","order","setOrder","styleNo","colorName","productTitle","productData","quantities","errorMessage","setErrorMessage","console","error","loadStyleOptions","inputValue","log","searchTerm","toUpperCase","stylesRef","styleQuery","querySnapshot","loadedStyles","docs","map","doc","data","value","id","label","err","message","handleStyleSelect","selectedOption","prevOrder","styleData","handleColorSelect","color","handleQuantityChange","size","quantity","qty","parseInt","isNaN","newQuantities","validateForm","totalQuantity","Object","values","reduce","sum","handleSubmit","renderSizingMatrix","sizes","availableSizes","standardSizes","filter","includes","otherSizes","className","children","length","type","min","onChange","e","target","role","classNamePrefix","isClearable","isSearchable","name","loadOptions","placeholder","noOptionsMessage","loadingMessage","cacheOptions","defaultOptions","disabled","colors","index","onClick"],"sources":["C:/Users/erik/Downloads/embroidered-order-form/src/components/EmbroideryCalculator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  limit,\r\n  orderBy,\r\n  startAt,\r\n  endAt,\r\n} from 'firebase/firestore';\r\nimport AsyncSelect from 'react-select/async';\r\nimport './EmbroideryCalculator.css';\r\n\r\nconst STANDARD_SIZES = ['S', 'M', 'L', 'XL', '2XL', '3XL'];\r\n\r\nexport default function EmbroideryCalculator() {\r\n  const [order, setOrder] = useState({\r\n    styleNo: '',\r\n    colorName: '',\r\n    productTitle: '',\r\n    productData: null,\r\n    quantities: {},\r\n  });\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!db) {\r\n      console.error('Firestore db is not initialized');\r\n      setErrorMessage('Firebase initialization failed. Please check your configuration.');\r\n    }\r\n  }, []);\r\n\r\n  // Function to load style options asynchronously\r\n  const loadStyleOptions = async (inputValue) => {\r\n    console.log('loadStyleOptions called with:', inputValue);\r\n    try {\r\n      if (!inputValue) {\r\n        console.log('No input value, returning empty array');\r\n        return [];\r\n      }\r\n\r\n      const searchTerm = inputValue.toUpperCase();\r\n      const stylesRef = collection(db, 'styles');\r\n\r\n      const styleQuery = query(\r\n        stylesRef,\r\n        orderBy('styleNo'),\r\n        startAt(searchTerm),\r\n        endAt(searchTerm + '\\uf8ff'),\r\n        limit(20)\r\n      );\r\n\r\n      console.log('Executing Firestore query');\r\n      const querySnapshot = await getDocs(styleQuery);\r\n      console.log('Query snapshot:', querySnapshot);\r\n\r\n      const loadedStyles = querySnapshot.docs.map((doc) => {\r\n        const data = doc.data();\r\n        console.log('Document data:', data);\r\n        return {\r\n          value: doc.id,\r\n          label: data.styleNo,\r\n          data: data,\r\n        };\r\n      });\r\n\r\n      console.log('Loaded styles:', loadedStyles);\r\n      return loadedStyles;\r\n    } catch (err) {\r\n      console.error('Error loading styles:', err);\r\n      setErrorMessage(`Error loading styles: ${err.message}`);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Handle selection of a style\r\n  const handleStyleSelect = (selectedOption) => {\r\n    console.log('Selected option:', selectedOption);\r\n    if (!selectedOption) {\r\n      setOrder((prevOrder) => ({\r\n        ...prevOrder,\r\n        styleNo: '',\r\n        productTitle: '',\r\n        productData: null,\r\n        colorName: '',\r\n        quantities: {},\r\n      }));\r\n      return;\r\n    }\r\n\r\n    const styleData = selectedOption.data;\r\n    setOrder((prevOrder) => ({\r\n      ...prevOrder,\r\n      styleNo: styleData.styleNo,\r\n      productTitle: styleData.productTitle,\r\n      productData: styleData,\r\n      colorName: '',\r\n      quantities: {},\r\n    }));\r\n  };\r\n\r\n  const handleColorSelect = (color) => {\r\n    setOrder((prevOrder) => ({\r\n      ...prevOrder,\r\n      colorName: color,\r\n    }));\r\n  };\r\n\r\n  const handleQuantityChange = (size, quantity) => {\r\n    const qty = parseInt(quantity, 10);\r\n    if (isNaN(qty) || qty < 0) {\r\n      setOrder((prevOrder) => {\r\n        const newQuantities = { ...prevOrder.quantities };\r\n        delete newQuantities[size];\r\n        return {\r\n          ...prevOrder,\r\n          quantities: newQuantities,\r\n        };\r\n      });\r\n    } else {\r\n      setOrder((prevOrder) => ({\r\n        ...prevOrder,\r\n        quantities: {\r\n          ...prevOrder.quantities,\r\n          [size]: qty,\r\n        },\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!order.styleNo) {\r\n      setErrorMessage('Please select a style');\r\n      return false;\r\n    }\r\n    if (!order.colorName) {\r\n      setErrorMessage('Please select a color');\r\n      return false;\r\n    }\r\n    const totalQuantity = Object.values(order.quantities).reduce((sum, qty) => sum + qty, 0);\r\n    if (totalQuantity === 0) {\r\n      setErrorMessage('Please enter at least one quantity');\r\n      return false;\r\n    }\r\n    setErrorMessage('');\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    console.log('Order submitted:', order);\r\n    // Implement your submission logic here\r\n    try {\r\n      // Example: Add order to Firestore\r\n      // await addDoc(collection(db, 'orders'), order);\r\n      // Reset form after submission\r\n      // setOrder({ styleNo: '', colorName: '', productTitle: '', productData: null, quantities: {} });\r\n      // alert('Order submitted successfully!');\r\n    } catch (error) {\r\n      console.error('Error submitting order:', error);\r\n      setErrorMessage(`Error submitting order: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const renderSizingMatrix = () => {\r\n    if (!order.productData || !order.productData.sizes) return null;\r\n\r\n    const availableSizes = order.productData.sizes;\r\n    const standardSizes = STANDARD_SIZES.filter(size => availableSizes.includes(size));\r\n    const otherSizes = availableSizes.filter(size => !STANDARD_SIZES.includes(size));\r\n\r\n    return (\r\n      <div className=\"mt-6\">\r\n        <h3 className=\"text-lg font-medium text-gray-700 mb-2\">Sizing Matrix</h3>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white\">\r\n            <thead>\r\n              <tr>\r\n                {standardSizes.map((size) => (\r\n                  <th\r\n                    key={size}\r\n                    className=\"px-4 py-2 border-b-2 border-gray-200 bg-gray-100 text-center text-xs leading-4 font-medium text-gray-700 uppercase tracking-wider\"\r\n                  >\r\n                    {size}\r\n                  </th>\r\n                ))}\r\n                {otherSizes.length > 0 && (\r\n                  <th\r\n                    className=\"px-4 py-2 border-b-2 border-gray-200 bg-gray-100 text-center text-xs leading-4 font-medium text-gray-700 uppercase tracking-wider\"\r\n                  >\r\n                    Other Sizes\r\n                  </th>\r\n                )}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                {standardSizes.map((size) => (\r\n                  <td key={size} className=\"px-4 py-2 border-b border-gray-200 text-center\">\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={order.quantities[size] || ''}\r\n                      onChange={(e) => handleQuantityChange(size, e.target.value)}\r\n                      className=\"mt-1 block w-16 mx-auto rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n                      aria-label={`Quantity for size ${size}`}\r\n                    />\r\n                  </td>\r\n                ))}\r\n                {otherSizes.length > 0 && (\r\n                  <td className=\"px-4 py-2 border-b border-gray-200 text-center\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      {otherSizes.map((size) => (\r\n                        <div key={size} className=\"flex items-center mb-2\">\r\n                          <span className=\"mr-2\">{size}:</span>\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={order.quantities[size] || ''}\r\n                            onChange={(e) => handleQuantityChange(size, e.target.value)}\r\n                            className=\"block w-16 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n                            aria-label={`Quantity for size ${size}`}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </td>\r\n                )}\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen p-4\">\r\n      <div className=\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\">\r\n        <h1 className=\"text-2xl font-bold text-green-600 p-4 bg-green-100\">\r\n          Embroidery Order Form\r\n        </h1>\r\n        {errorMessage && (\r\n          <div\r\n            className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4\"\r\n            role=\"alert\"\r\n          >\r\n            <p className=\"font-bold\">Error</p>\r\n            <p>{errorMessage}</p>\r\n          </div>\r\n        )}\r\n        <div className=\"p-4\">\r\n          <div className=\"flex flex-wrap space-x-4\">\r\n            {/* Style Number Input */}\r\n            <div className=\"w-full md:w-1/3 relative\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Style</label>\r\n              <AsyncSelect\r\n                className=\"mt-1\"\r\n                classNamePrefix=\"select\"\r\n                isClearable\r\n                isSearchable\r\n                name=\"style\"\r\n                loadOptions={loadStyleOptions}\r\n                onChange={handleStyleSelect}\r\n                placeholder=\"Search styles...\"\r\n                noOptionsMessage={() => 'No styles found'}\r\n                loadingMessage={() => 'Loading...'}\r\n                cacheOptions\r\n                defaultOptions\r\n              />\r\n            </div>\r\n\r\n            {/* Color Selection */}\r\n            <div className=\"w-full md:w-1/3 mt-4 md:mt-0\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Color</label>\r\n              <select\r\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n                onChange={(e) => handleColorSelect(e.target.value)}\r\n                value={order.colorName}\r\n                disabled={!order.productData || !order.productData.colors}\r\n                aria-label=\"Select color\"\r\n              >\r\n                <option value=\"\">Select Color</option>\r\n                {order.productData &&\r\n                  order.productData.colors &&\r\n                  order.productData.colors.map((color, index) => (\r\n                    <option key={index} value={color}>\r\n                      {color}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Product Description */}\r\n            <div className=\"w-full md:w-1/3 mt-4 md:mt-0\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n              <p className=\"mt-1\">\r\n                {order.productTitle || 'Product description will appear here.'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sizing Matrix */}\r\n          {renderSizingMatrix()}\r\n\r\n          {/* Submit Button */}\r\n          <div className=\"mt-4\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none disabled:opacity-50\"\r\n              onClick={handleSubmit}\r\n              disabled={!order.styleNo || !order.colorName}\r\n            >\r\n              Submit Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}